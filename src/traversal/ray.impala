struct Ray {
    org:     fn () -> Vec3,
    dir:     fn () -> Vec3,
    inv_dir: fn () -> Vec3,
    inv_org: fn () -> Vec3
}

fn ray(org: Vec3, dir: Vec3) -> Ray {
    let inv_dir = vec3(safe_rcp(dir.x), safe_rcp(dir.y), safe_rcp(dir.z));
    let inv_org = vec3_mul(org, inv_dir);
    Ray {
        org: || org,
        dir: || dir,
        inv_dir: || inv_dir,
        inv_org: || inv_org
    }
}
