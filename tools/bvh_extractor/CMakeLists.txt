add_executable(bvh_extractor
    bvh_extractor.cpp
    extract_bvh4.cpp
    extract_bvh2.cpp
    sbvh_builder.h
    bvh_helper.h
    ../common/load_obj.cpp
    ../common/load_obj.h
    ../common/file_path.h
    ../common/float2.h
    ../common/float3.h
    ../common/tri.h
    ../common/bbox.h)
target_include_directories(bvh_extractor PUBLIC ../common ${EMBREE_ROOT_DIR}/include ${EMBREE_ROOT_DIR} ${EMBREE_LIBRARY_DIR})
target_compile_definitions(bvh_extractor PUBLIC ${EMBREE_DEFINITIONS})
target_link_libraries(bvh_extractor ${EMBREE_DEPENDENCIES})
# Needs the interface file generated by bench_traversal
add_dependencies(bvh_extractor bench_traversal)
